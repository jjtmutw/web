[2026-02-28 09:58:10] Scheduler started. Poll interval=2s batch=20
[2026-02-28 09:58:10] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 09:58:10] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 09:51:44 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 09:58:10]    Attempt #1
[2026-02-28 09:58:10]    ❌ FAILED
[2026-02-28 09:58:10]    Error: HTTP request error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1108)
[2026-02-28 09:58:10]    Retry scheduled at: 2026-02-28 09:59:10.741939
[2026-02-28 09:59:12] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 09:59:11 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 09:59:12]    Attempt #1
[2026-02-28 09:59:13]    ❌ FAILED
[2026-02-28 09:59:13]    Error: HTTP request error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1108)
[2026-02-28 09:59:13]    Retry scheduled at: 2026-02-28 10:00:13.021595
[2026-02-28 10:00:13] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 10:00:13 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 10:00:13]    Attempt #1
[2026-02-28 10:00:13]    ❌ FAILED
[2026-02-28 10:00:13]    Error: HTTP request error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1108)
[2026-02-28 10:00:13]    Retry scheduled at: 2026-02-28 10:01:13.441975
[2026-02-28 10:01:13] Scheduler started. Poll interval=2s batch=20
[2026-02-28 10:01:13] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 10:01:13] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 10:01:13 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 10:01:13]    Attempt #1
[2026-02-28 10:01:14]    ✅ SUCCESS HTTP=200
[2026-02-28 10:01:15]    Next: 2026-03-01 09:25:00
[2026-02-28 10:04:42] Scheduler started. Poll interval=2s batch=20
[2026-02-28 10:04:42] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 10:05:00] ▶ Job#1 'Morning MQTT' [MQTT] planned=2026-02-28 10:05:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"為了你的健康，該吃藥了"}'
[2026-02-28 10:05:00]    Attempt #1
[2026-02-28 10:05:01]    ✅ SUCCESS
[2026-02-28 10:05:01]    Next: 2026-03-01 10:05:00
[2026-02-28 10:05:01] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 10:05:00 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 10:05:01]    Attempt #1
[2026-02-28 10:05:02]    ✅ SUCCESS HTTP=200
[2026-02-28 10:05:02]    Next: 2026-03-01 10:05:00
[2026-02-28 10:30:00] ▶ Job#5 '提醒早上吃藥' [MQTT] planned=2026-02-28 10:30:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 10:30:01]    Attempt #1
[2026-02-28 10:30:01]    ✅ SUCCESS
[2026-02-28 10:30:01]    Next: 2026-03-01 10:30:00
[2026-02-28 10:40:01] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-02-28 10:40:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 10:40:01]    Attempt #1
[2026-02-28 10:40:01]    ✅ SUCCESS
[2026-02-28 10:40:01]    Next: 2026-03-01 10:40:00
[2026-02-28 10:40:01] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 10:40:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=中午你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 10:40:01]    Attempt #1
[2026-02-28 10:40:03]    ✅ SUCCESS HTTP=200
[2026-02-28 10:40:03]    Next: 2026-03-01 10:40:00
[2026-02-28 10:55:37] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-02-28 10:55:35 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 10:55:37]    Attempt #1
[2026-02-28 10:55:37]    ✅ SUCCESS
[2026-02-28 10:55:37]    Next: 2026-03-01 09:00:00
[2026-02-28 10:56:44] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 10:56:42 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 10:56:44]    Attempt #1
[2026-02-28 10:56:45]    ✅ SUCCESS HTTP=200
[2026-02-28 10:56:45]    Next: 2026-02-28 18:00:00
[2026-02-28 10:59:21] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 03:00:20 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 10:59:21]    Attempt #1
[2026-02-28 10:59:22]    ✅ SUCCESS HTTP=200
[2026-02-28 10:59:22]    Next: DISABLED (ONCE job done)
[2026-02-28 11:00:50] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 11:00:49 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 11:00:51]    Attempt #1
[2026-02-28 11:00:51]    ✅ SUCCESS HTTP=200
[2026-02-28 11:00:51]    Next: DISABLED (ONCE job done)
[2026-02-28 11:05:24] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 03:06:23 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 11:05:24]    Attempt #1
[2026-02-28 11:05:24]    ✅ SUCCESS HTTP=200
[2026-02-28 11:05:24]    Next: None
[2026-02-28 11:09:51] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 03:10:50 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 11:09:52]    Attempt #1
[2026-02-28 11:09:52]    ✅ SUCCESS HTTP=200
[2026-02-28 11:09:52]    Next: None
[2026-02-28 11:18:45] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 03:19:43 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 11:18:46]    Attempt #1
[2026-02-28 11:18:47]    ✅ SUCCESS HTTP=200
[2026-02-28 11:18:47]    Next: None
[2026-02-28 11:36:29] Scheduler started
[2026-02-28 12:00:01] ▶ Job#7 Line提醒中午吃藥
[2026-02-28 12:00:02] HTTP 200
[2026-02-28 12:00:02] ▶ Job#9 語音提醒中午吃藥
[2026-02-28 12:00:02] MQTT sent (demo)
[2026-02-28 12:02:47] ▶ Job#9 語音提醒中午吃藥
[2026-02-28 12:02:47] MQTT sent (demo)
[2026-02-28 12:04:44] ▶ Job#9 語音提醒中午吃藥
[2026-02-28 12:04:44] MQTT sent (demo)
[2026-02-28 12:12:06] ▶ Job#5 語音提醒早上吃藥
[2026-02-28 12:12:51] MQTT sent (demo)
[2026-02-28 12:12:51] ▶ Job#8 Line提醒晚上吃藥
[2026-02-28 12:12:57] Scheduler started. Poll interval=2s batch=20
[2026-02-28 12:12:57] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 12:12:57] MySQL session time_zone will be set to +08:00
[2026-02-28 12:12:57] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 12:12:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 12:12:57]    Attempt #1
[2026-02-28 12:12:58]    ✅ SUCCESS HTTP=200
[2026-02-28 12:12:58]    Next: 2026-02-28 18:00:00
[2026-02-28 12:13:24] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 12:13:23 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 12:13:24]    Attempt #1
[2026-02-28 12:13:24]    ✅ SUCCESS HTTP=200
[2026-02-28 12:13:24]    Next: 2026-03-01 09:00:00
[2026-02-28 12:53:47] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 12:53:46 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 12:53:47]    Attempt #1
[2026-02-28 12:53:48]    ✅ SUCCESS
[2026-02-28 12:53:48]    Next: 2026-03-01 12:00:00
[2026-02-28 12:58:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 12:58:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 12:58:01]    Attempt #1
[2026-02-28 12:58:03]    ✅ SUCCESS HTTP=200
[2026-02-28 12:58:03]    Next: None
[2026-02-28 13:13:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:13:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:13:01]    Attempt #1
[2026-02-28 13:13:02]    ✅ SUCCESS HTTP=200
[2026-02-28 13:13:03]    Next: None
[2026-02-28 13:13:29] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-02-28 13:13:29 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 13:13:29]    Attempt #1
[2026-02-28 13:13:29]    ✅ SUCCESS
[2026-02-28 13:13:29]    Next: 2026-03-01 09:00:00
[2026-02-28 13:17:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:17:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:17:00]    Attempt #1
[2026-02-28 13:17:00]    ✅ SUCCESS HTTP=200
[2026-02-28 13:17:00]    Next: None
[2026-02-28 13:24:56] Scheduler started. Poll interval=2s batch=20
[2026-02-28 13:24:56] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 13:24:56] MySQL session time_zone will be set to +08:00
[2026-02-28 13:24:56] Next-run fallback (when cannot compute) = 60s
[2026-02-28 13:27:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:27:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:27:01]    Attempt #1
[2026-02-28 13:27:01]    ✅ SUCCESS HTTP=200
[2026-02-28 13:27:02]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:27:02]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:27:02]    Next: (fallback postpone)
[2026-02-28 13:28:02] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:28:02 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:28:02]    Attempt #1
[2026-02-28 13:28:02]    ✅ SUCCESS HTTP=200
[2026-02-28 13:28:02]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:28:02]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:28:02]    Next: (fallback postpone)
[2026-02-28 13:29:04] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:29:03 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:29:04]    Attempt #1
[2026-02-28 13:29:05]    ✅ SUCCESS HTTP=200
[2026-02-28 13:29:05]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:29:05]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:29:05]    Next: (fallback postpone)
[2026-02-28 13:30:05] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:30:05 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:30:05]    Attempt #1
[2026-02-28 13:30:05]    ✅ SUCCESS HTTP=200
[2026-02-28 13:30:05]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:30:05]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:30:05]    Next: (fallback postpone)
[2026-02-28 13:31:07] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:31:06 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:31:07]    Attempt #1
[2026-02-28 13:31:08]    ✅ SUCCESS HTTP=200
[2026-02-28 13:31:08]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:31:08]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:31:08]    Next: (fallback postpone)
[2026-02-28 13:32:08] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:32:08 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:32:08]    Attempt #1
[2026-02-28 13:32:08]    ✅ SUCCESS HTTP=200
[2026-02-28 13:32:08]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:32:08]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:32:08]    Next: (fallback postpone)
[2026-02-28 13:49:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:49:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:49:02]    Attempt #1
[2026-02-28 13:49:03]    ✅ SUCCESS HTTP=200
[2026-02-28 13:49:03]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:49:03]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:49:03]    Next: (fallback postpone)
[2026-02-28 13:50:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:50:03 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:50:03]    Attempt #1
[2026-02-28 13:50:03]    ✅ SUCCESS HTTP=200
[2026-02-28 13:50:03]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:50:03]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:50:03]    Next: (fallback postpone)
[2026-02-28 13:51:04] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:51:04 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:51:04]    Attempt #1
[2026-02-28 13:51:04]    ✅ SUCCESS HTTP=200
[2026-02-28 13:51:04]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:51:04]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:51:04]    Next: (fallback postpone)
[2026-02-28 13:52:04] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:52:04 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:52:04]    Attempt #1
[2026-02-28 13:52:05]    ✅ SUCCESS HTTP=200
[2026-02-28 13:52:05]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:52:05]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:52:05]    Next: (fallback postpone)
[2026-02-28 13:53:05] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:53:05 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:53:05]    Attempt #1
[2026-02-28 13:53:06]    ✅ SUCCESS HTTP=200
[2026-02-28 13:53:06]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:53:06]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:53:06]    Next: (fallback postpone)
[2026-02-28 13:54:06] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:54:06 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:54:06]    Attempt #1
[2026-02-28 13:54:07]    ✅ SUCCESS HTTP=200
[2026-02-28 13:54:07]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:54:07]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:54:07]    Next: (fallback postpone)
[2026-02-28 13:55:07] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:55:07 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:55:07]    Attempt #1
[2026-02-28 13:55:07]    ✅ SUCCESS HTTP=200
[2026-02-28 13:55:07]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:55:07]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:55:07]    Next: (fallback postpone)
[2026-02-28 13:55:43] Scheduler started. Poll interval=2s batch=20
[2026-02-28 13:55:43] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 13:55:43] MySQL session time_zone will be set to +08:00
[2026-02-28 13:55:43] Next-run fallback (when cannot compute) = 60s
[2026-02-28 13:56:08] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:56:08 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:56:08]    Attempt #1
[2026-02-28 13:56:10]    ✅ SUCCESS HTTP=200
[2026-02-28 13:56:10]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:56:10]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:56:10]    Next: (fallback postpone)
[2026-02-28 13:57:10] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 13:57:10 url=https://test.prof-jj.com//api/push?name=簡文山&msg=今天是休息日&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 13:57:10]    Attempt #1
[2026-02-28 13:57:11]    ✅ SUCCESS HTTP=200
[2026-02-28 13:57:11]    WARN: cannot compute next_run_at for recurring job. Will NOT disable; postpone and retry later.
[2026-02-28 13:57:11]    Check: days_of_week / times_of_day / time_of_day / timezone.
[2026-02-28 13:57:11]    Next: (fallback postpone)
[2026-02-28 14:05:47] Scheduler started. Poll interval=2s batch=20
[2026-02-28 14:05:47] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 14:05:47] MySQL session time_zone will be set to +08:00
[2026-02-28 14:09:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:09:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:09:00]    Attempt #1
[2026-02-28 14:09:01]    Next: None
[2026-02-28 14:09:01]    ✅ SUCCESS HTTP=200
[2026-02-28 14:09:01]    Next: None
[2026-02-28 14:11:40] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:09:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:11:40]    Attempt #2
[2026-02-28 14:11:40]    Next: None
[2026-02-28 14:11:40]    ✅ SUCCESS HTTP=200
[2026-02-28 14:11:40]    Next: None
[2026-02-28 14:11:52] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:09:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:11:52]    Attempt #3
[2026-02-28 14:11:52]    Next: None
[2026-02-28 14:11:52]    ✅ SUCCESS HTTP=200
[2026-02-28 14:11:52]    Next: None
[2026-02-28 14:14:39] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:09:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:14:39]    Attempt #4
[2026-02-28 14:14:39]    Next: None
[2026-02-28 14:14:39]    ✅ SUCCESS HTTP=200
[2026-02-28 14:14:39]    Next: None
[2026-02-28 14:19:50] Scheduler started. Poll interval=2s batch=20
[2026-02-28 14:19:50] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 14:19:50] MySQL session time_zone will be set to +08:00
[2026-02-28 14:21:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:21:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:21:01]    Attempt #1
[2026-02-28 14:21:02]    Next: None
[2026-02-28 14:21:02]    ✅ SUCCESS HTTP=200
[2026-02-28 14:21:02]    Next: None
[2026-02-28 14:26:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:26:02 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:26:03]    Attempt #1
[2026-02-28 14:26:03]    Next: None
[2026-02-28 14:26:03]    ✅ SUCCESS HTTP=200
[2026-02-28 14:26:03]    Next: None
[2026-02-28 14:31:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:31:03 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:31:03]    Attempt #1
[2026-02-28 14:31:03]    Next: None
[2026-02-28 14:31:03]    ✅ SUCCESS HTTP=200
[2026-02-28 14:31:03]    Next: None
[2026-02-28 14:36:04] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:36:03 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:36:04]    Attempt #1
[2026-02-28 14:36:05]    Next: None
[2026-02-28 14:36:05]    ✅ SUCCESS HTTP=200
[2026-02-28 14:36:05]    Next: None
[2026-02-28 14:46:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:46:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:46:01]    Attempt #1
[2026-02-28 14:46:01]    Next: None
[2026-02-28 14:46:01]    ✅ SUCCESS HTTP=200
[2026-02-28 14:46:01]    Next: None
[2026-02-28 14:51:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 14:51:01 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 14:51:01]    Attempt #1
[2026-02-28 14:51:01]    Next: None
[2026-02-28 14:51:01]    ✅ SUCCESS HTTP=200
[2026-02-28 14:51:01]    Next: None
[2026-02-28 15:12:05] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:12:05] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:12:05] MySQL session time_zone will be set to +08:00
[2026-02-28 15:13:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:13:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:13:01]    Attempt #1
[2026-02-28 15:13:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:13:01]    ❌ FAILED HTTP=200
[2026-02-28 15:13:01]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:13:01]    Retry scheduled at: 2026-02-28 15:23:01.662493
[2026-02-28 15:14:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:14:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:14:01]    Attempt #1
[2026-02-28 15:14:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:14:01]    ❌ FAILED HTTP=200
[2026-02-28 15:14:01]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:14:01]    Retry scheduled at: 2026-02-28 15:24:01.958179
[2026-02-28 15:14:34] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:14:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:14:34]    Attempt #1
[2026-02-28 15:14:34] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:14:34]    ❌ FAILED HTTP=200
[2026-02-28 15:14:34]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:14:34]    Retry scheduled at: 2026-02-28 15:24:34.129408
[2026-02-28 15:15:54] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:15:52 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:15:54]    Attempt #1
[2026-02-28 15:15:54] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:15:54]    ❌ FAILED HTTP=200
[2026-02-28 15:15:54]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:15:54]    Retry scheduled at: 2026-02-28 15:16:54.549695
[2026-02-28 15:16:56] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:16:55 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:16:56]    Attempt #1
[2026-02-28 15:16:56] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:16:56]    ❌ FAILED HTTP=200
[2026-02-28 15:16:56]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:16:56]    Retry scheduled at: 2026-02-28 15:17:56.798388
[2026-02-28 15:17:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:17:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:17:00]    Attempt #1
[2026-02-28 15:17:00] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:17:00]    ❌ FAILED HTTP=200
[2026-02-28 15:17:00]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:17:00]    Retry scheduled at: 2026-02-28 15:27:00.876409
[2026-02-28 15:17:57] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:17:57 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:17:57]    Attempt #1
[2026-02-28 15:17:57] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:17:57]    ❌ FAILED HTTP=200
[2026-02-28 15:17:57]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:17:57]    Retry scheduled at: 2026-02-28 15:18:57.140640
[2026-02-28 15:20:23] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:20:23] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:20:23] MySQL session time_zone will be set to +08:00
[2026-02-28 15:20:23] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:18:57 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:20:23]    Attempt #1
[2026-02-28 15:20:23] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:20:23]    ❌ FAILED HTTP=200
[2026-02-28 15:20:23]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:20:23]    Retry scheduled at: 2026-02-28 15:21:23.152657
[2026-02-28 15:20:43] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:20:43] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:20:43] MySQL session time_zone will be set to +08:00
[2026-02-28 15:21:24] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:21:23 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:21:24]    Attempt #1
[2026-02-28 15:21:24] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:21:24]    ❌ FAILED HTTP=200
[2026-02-28 15:21:24]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:21:24]    Retry scheduled at: 2026-02-28 15:22:24.135540
[2026-02-28 15:22:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:22:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:22:00]    Attempt #1
[2026-02-28 15:22:00] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:22:00]    ❌ FAILED HTTP=200
[2026-02-28 15:22:00]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:22:00]    Retry scheduled at: 2026-02-28 15:32:00.306513
[2026-02-28 15:22:24] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:22:24 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:22:24]    Attempt #1
[2026-02-28 15:22:24] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:22:24]    ❌ FAILED HTTP=200
[2026-02-28 15:22:24]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:22:24]    Retry scheduled at: 2026-02-28 15:23:24.535548
[2026-02-28 15:23:26] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:23:25 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:23:26]    Attempt #1
[2026-02-28 15:23:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:23:26]    ❌ FAILED HTTP=200
[2026-02-28 15:23:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:23:26]    Retry scheduled at: 2026-02-28 15:24:26.804579
[2026-02-28 15:24:27] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:24:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:24:27]    Attempt #1
[2026-02-28 15:24:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:24:27]    ❌ FAILED HTTP=200
[2026-02-28 15:24:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:24:27]    Retry scheduled at: 2026-02-28 15:25:27.084610
[2026-02-28 15:25:27] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:25:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:25:27]    Attempt #1
[2026-02-28 15:25:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:25:27]    ❌ FAILED HTTP=200
[2026-02-28 15:25:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:25:27]    Retry scheduled at: 2026-02-28 15:26:27.380278
[2026-02-28 15:26:28] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:26:28] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:26:28] MySQL session time_zone will be set to +08:00
[2026-02-28 15:26:28] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:26:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:26:28]    Attempt #1
[2026-02-28 15:26:28] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:26:28]    ❌ FAILED HTTP=200
[2026-02-28 15:26:28]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:26:28]    Retry scheduled at: 2026-02-28 15:27:28.629040
[2026-02-28 15:26:39] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:26:39] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:26:39] MySQL session time_zone will be set to +08:00
[2026-02-28 15:27:29] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:27:29 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:27:29]    Attempt #1
[2026-02-28 15:27:29] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:27:29]    ❌ FAILED HTTP=200
[2026-02-28 15:27:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:27:29]    Retry scheduled at: 2026-02-28 15:28:29.627543
[2026-02-28 15:28:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:28:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:28:01]    Attempt #1
[2026-02-28 15:28:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:28:01]    ❌ FAILED HTTP=200
[2026-02-28 15:28:01]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:28:01]    Retry scheduled at: 2026-02-28 15:38:01.767373
[2026-02-28 15:28:31] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:28:30 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:28:31]    Attempt #1
[2026-02-28 15:28:31] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:28:31]    ❌ FAILED HTTP=200
[2026-02-28 15:28:31]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:28:31]    Retry scheduled at: 2026-02-28 15:29:31.922904
[2026-02-28 15:30:49] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:30:49] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:30:49] MySQL session time_zone will be set to +08:00
[2026-02-28 15:30:49] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:29:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:30:49]    Attempt #1
[2026-02-28 15:30:49] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:30:49]    ❌ FAILED HTTP=200
[2026-02-28 15:30:49]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:30:49]    Retry scheduled at: 2026-02-28 15:31:49.435169
[2026-02-28 15:31:49] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:31:49 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:32:56]    Attempt #1
[2026-02-28 15:32:56] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:32:56]    ❌ FAILED HTTP=200
[2026-02-28 15:32:56]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:32:56]    Retry scheduled at: 2026-02-28 15:33:56.447949
[2026-02-28 15:33:10] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:33:10] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:33:10] MySQL session time_zone will be set to +08:00
[2026-02-28 15:35:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:35:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:35:01]    Attempt #1
[2026-02-28 15:35:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:35:01]    ❌ FAILED HTTP=200
[2026-02-28 15:35:01]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:35:01]    Retry scheduled at: 2026-02-28 15:45:01.539175
[2026-02-28 15:37:25] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:37:25] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:37:25] MySQL session time_zone will be set to +08:00
[2026-02-28 15:38:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 15:38:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 15:38:01]    Attempt #1
[2026-02-28 15:38:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {"X-API-KEY": "123456789"}
[2026-02-28 15:38:01]    ❌ FAILED HTTP=200
[2026-02-28 15:38:01]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:38:01]    Retry scheduled at: 2026-02-28 15:48:01.629348
[2026-02-28 15:41:52] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:41:50 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:41:52]    Attempt #1
[2026-02-28 15:41:52] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:41:52]    ❌ FAILED HTTP=200
[2026-02-28 15:41:52]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:41:52]    Retry scheduled at: 2026-02-28 15:42:52.671619
[2026-02-28 15:42:08] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:42:07 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:42:08]    Attempt #1
[2026-02-28 15:42:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:42:08]    ❌ FAILED HTTP=200
[2026-02-28 15:42:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:42:08]    Retry scheduled at: 2026-02-28 15:43:08.796334
[2026-02-28 15:42:22] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:42:21 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:42:22]    Attempt #1
[2026-02-28 15:42:22] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:42:22]    ❌ FAILED HTTP=200
[2026-02-28 15:42:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:42:22]    Retry scheduled at: 2026-02-28 15:43:22.921017
[2026-02-28 15:42:55] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:42:53 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:42:55]    Attempt #1
[2026-02-28 15:42:55] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:42:55]    ❌ FAILED HTTP=200
[2026-02-28 15:42:55]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:42:55]    Retry scheduled at: 2026-02-28 15:43:55.076623
[2026-02-28 15:43:09] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:43:09 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:43:09]    Attempt #1
[2026-02-28 15:43:09] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:43:09]    ❌ FAILED HTTP=200
[2026-02-28 15:43:09]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:43:09]    Retry scheduled at: 2026-02-28 15:44:09.534460
[2026-02-28 15:43:23] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:43:23 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:43:23]    Attempt #1
[2026-02-28 15:43:23] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:43:23]    ❌ FAILED HTTP=200
[2026-02-28 15:43:23]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:43:23]    Retry scheduled at: 2026-02-28 15:44:23.638554
[2026-02-28 15:43:55] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:43:55 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:43:55]    Attempt #1
[2026-02-28 15:43:55] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:43:55]    ❌ FAILED HTTP=200
[2026-02-28 15:43:55]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:43:55]    Retry scheduled at: 2026-02-28 15:44:55.841039
[2026-02-28 15:44:11] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:44:10 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:44:11]    Attempt #1
[2026-02-28 15:44:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:44:11]    ❌ FAILED HTTP=200
[2026-02-28 15:44:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:44:11]    Retry scheduled at: 2026-02-28 15:45:11.934488
[2026-02-28 15:44:25] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:44:24 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:44:26]    Attempt #1
[2026-02-28 15:44:26] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:44:26]    ❌ FAILED HTTP=200
[2026-02-28 15:44:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:44:26]    Retry scheduled at: 2026-02-28 15:45:26.012317
[2026-02-28 15:44:56] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:44:56 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:44:56]    Attempt #1
[2026-02-28 15:44:56] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:44:56]    ❌ FAILED HTTP=200
[2026-02-28 15:44:56]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:44:56]    Retry scheduled at: 2026-02-28 15:45:56.589823
[2026-02-28 15:45:12] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:45:12 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:45:12]    Attempt #1
[2026-02-28 15:45:12] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:45:12]    ❌ FAILED HTTP=200
[2026-02-28 15:45:12]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:45:12]    Retry scheduled at: 2026-02-28 15:46:12.745760
[2026-02-28 15:45:18] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:45:18] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:45:18] MySQL session time_zone will be set to +08:00
[2026-02-28 15:45:26] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:45:26 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:45:26]    Attempt #1
[2026-02-28 15:45:26] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:45:26]    ❌ FAILED HTTP=200
[2026-02-28 15:45:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:45:26]    Retry scheduled at: 2026-02-28 15:46:26.964232
[2026-02-28 15:45:30] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:45:29 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:45:31]    Attempt #1
[2026-02-28 15:45:31] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:45:31]    ❌ FAILED HTTP=200
[2026-02-28 15:45:31]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:45:31]    Retry scheduled at: 2026-02-28 15:46:31.073520
[2026-02-28 15:46:13] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:46:13 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:48:08]    Attempt #1
[2026-02-28 15:48:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:48:08]    ❌ FAILED HTTP=200
[2026-02-28 15:48:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:48:08]    Retry scheduled at: 2026-02-28 15:49:08.179991
[2026-02-28 15:48:08] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:46:27 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:48:08]    Attempt #1
[2026-02-28 15:48:08] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:48:08]    ❌ FAILED HTTP=200
[2026-02-28 15:48:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:48:08]    Retry scheduled at: 2026-02-28 15:49:08.211237
[2026-02-28 15:48:08] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:46:31 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:48:08]    Attempt #1
[2026-02-28 15:48:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:48:08]    ❌ FAILED HTTP=200
[2026-02-28 15:48:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:48:08]    Retry scheduled at: 2026-02-28 15:49:08.273738
[2026-02-28 15:49:08] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:49:08 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:49:08]    Attempt #1
[2026-02-28 15:49:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:49:08]    ❌ FAILED HTTP=200
[2026-02-28 15:49:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:49:08]    Retry scheduled at: 2026-02-28 15:50:08.616290
[2026-02-28 15:49:08] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:49:08 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:49:08]    Attempt #1
[2026-02-28 15:49:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:49:08]    ❌ FAILED HTTP=200
[2026-02-28 15:49:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:49:08]    Retry scheduled at: 2026-02-28 15:50:08.647538
[2026-02-28 15:49:08] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:49:08 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:49:08]    Attempt #1
[2026-02-28 15:49:08] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:49:08]    ❌ FAILED HTTP=200
[2026-02-28 15:49:08]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:49:08]    Retry scheduled at: 2026-02-28 15:50:08.678785
[2026-02-28 15:50:10] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:50:09 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:50:10]    Attempt #1
[2026-02-28 15:50:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:50:10]    ❌ FAILED HTTP=200
[2026-02-28 15:50:10]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:50:10]    Retry scheduled at: 2026-02-28 15:51:10.911919
[2026-02-28 15:50:10] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:50:09 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:50:10]    Attempt #1
[2026-02-28 15:50:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:50:10]    ❌ FAILED HTTP=200
[2026-02-28 15:50:10]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:50:10]    Retry scheduled at: 2026-02-28 15:51:10.958842
[2026-02-28 15:50:10] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:50:09 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:50:10]    Attempt #1
[2026-02-28 15:50:10] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:50:10]    ❌ FAILED HTTP=200
[2026-02-28 15:50:10]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:50:10]    Retry scheduled at: 2026-02-28 15:51:10.974422
[2026-02-28 15:51:11] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:51:11 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:51:11]    Attempt #1
[2026-02-28 15:51:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:51:11]    ❌ FAILED HTTP=200
[2026-02-28 15:51:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:51:11]    Retry scheduled at: 2026-02-28 15:52:11.238848
[2026-02-28 15:51:11] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:51:11 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:51:11]    Attempt #1
[2026-02-28 15:51:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:51:11]    ❌ FAILED HTTP=200
[2026-02-28 15:51:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:51:11]    Retry scheduled at: 2026-02-28 15:52:11.270095
[2026-02-28 15:51:11] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:51:11 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:51:11]    Attempt #1
[2026-02-28 15:51:11] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:51:11]    ❌ FAILED HTTP=200
[2026-02-28 15:51:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:51:11]    Retry scheduled at: 2026-02-28 15:52:11.285720
[2026-02-28 15:52:11] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:52:11 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:52:11]    Attempt #1
[2026-02-28 15:52:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:52:11]    ❌ FAILED HTTP=200
[2026-02-28 15:52:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:52:11]    Retry scheduled at: 2026-02-28 15:53:11.659522
[2026-02-28 15:52:11] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:52:11 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:52:11]    Attempt #1
[2026-02-28 15:52:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:52:11]    ❌ FAILED HTTP=200
[2026-02-28 15:52:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:52:11]    Retry scheduled at: 2026-02-28 15:53:11.815772
[2026-02-28 15:52:11] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:52:11 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:52:11]    Attempt #1
[2026-02-28 15:52:11] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:52:11]    ❌ FAILED HTTP=200
[2026-02-28 15:52:11]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:52:11]    Retry scheduled at: 2026-02-28 15:53:11.878268
[2026-02-28 15:52:15] Scheduler started. Poll interval=2s batch=20
[2026-02-28 15:52:15] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 15:52:15] MySQL session time_zone will be set to +08:00
[2026-02-28 15:52:29] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:52:27 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:52:29]    Attempt #1
[2026-02-28 15:52:29] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:52:29]    ❌ FAILED HTTP=200
[2026-02-28 15:52:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:52:29]    Retry scheduled at: 2026-02-28 15:53:29.534166
[2026-02-28 15:53:13] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:53:12 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:53:13]    Attempt #1
[2026-02-28 15:53:13] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:53:13]    ❌ FAILED HTTP=200
[2026-02-28 15:53:13]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:53:13]    Retry scheduled at: 2026-02-28 15:54:13.891886
[2026-02-28 15:53:13] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:53:12 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:53:13]    Attempt #1
[2026-02-28 15:53:13] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:53:13]    ❌ FAILED HTTP=200
[2026-02-28 15:53:13]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:53:13]    Retry scheduled at: 2026-02-28 15:54:13.948793
[2026-02-28 15:53:13] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:53:12 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:53:13]    Attempt #1
[2026-02-28 15:53:14] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:53:14]    ❌ FAILED HTTP=200
[2026-02-28 15:53:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:53:14]    Retry scheduled at: 2026-02-28 15:54:14.007457
[2026-02-28 15:53:30] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:53:30 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:53:30]    Attempt #1
[2026-02-28 15:53:30] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:53:30]    ❌ FAILED HTTP=200
[2026-02-28 15:53:30]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:53:30]    Retry scheduled at: 2026-02-28 15:54:30.126713
[2026-02-28 15:54:14] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:54:14 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:54:14]    Attempt #1
[2026-02-28 15:54:14] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:54:14]    ❌ FAILED HTTP=200
[2026-02-28 15:54:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:54:14]    Retry scheduled at: 2026-02-28 15:55:14.344584
[2026-02-28 15:54:14] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:54:14 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:54:14]    Attempt #1
[2026-02-28 15:54:14] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:54:14]    ❌ FAILED HTTP=200
[2026-02-28 15:54:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:54:14]    Retry scheduled at: 2026-02-28 15:55:14.375837
[2026-02-28 15:54:14] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:54:14 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:54:14]    Attempt #1
[2026-02-28 15:54:14] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:54:14]    ❌ FAILED HTTP=200
[2026-02-28 15:54:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:54:14]    Retry scheduled at: 2026-02-28 15:55:14.438333
[2026-02-28 15:54:30] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:54:30 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:54:30]    Attempt #1
[2026-02-28 15:54:30] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:54:30]    ❌ FAILED HTTP=200
[2026-02-28 15:54:30]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:54:30]    Retry scheduled at: 2026-02-28 15:55:30.578634
[2026-02-28 15:55:14] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:55:14 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:55:14]    Attempt #1
[2026-02-28 15:55:14] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:55:14]    ❌ FAILED HTTP=200
[2026-02-28 15:55:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:55:14]    Retry scheduled at: 2026-02-28 15:56:14.827762
[2026-02-28 15:55:14] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:55:14 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:55:14]    Attempt #1
[2026-02-28 15:55:14] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:55:14]    ❌ FAILED HTTP=200
[2026-02-28 15:55:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:55:14]    Retry scheduled at: 2026-02-28 15:56:14.859010
[2026-02-28 15:55:14] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:55:14 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:55:14]    Attempt #1
[2026-02-28 15:55:14] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:55:14]    ❌ FAILED HTTP=200
[2026-02-28 15:55:14]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:55:14]    Retry scheduled at: 2026-02-28 15:56:14.890259
[2026-02-28 15:55:32] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:55:31 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:55:32]    Attempt #1
[2026-02-28 15:55:32] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:55:32]    ❌ FAILED HTTP=200
[2026-02-28 15:55:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:55:32]    Retry scheduled at: 2026-02-28 15:56:32.983641
[2026-02-28 15:56:15] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:56:15 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:56:15]    Attempt #1
[2026-02-28 15:56:15] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:56:15]    ❌ FAILED HTTP=200
[2026-02-28 15:56:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:56:15]    Retry scheduled at: 2026-02-28 15:57:15.279676
[2026-02-28 15:56:15] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:56:15 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:56:15]    Attempt #1
[2026-02-28 15:56:15] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:56:15]    ❌ FAILED HTTP=200
[2026-02-28 15:56:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:56:15]    Retry scheduled at: 2026-02-28 15:57:15.326551
[2026-02-28 15:56:15] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:56:15 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:56:15]    Attempt #1
[2026-02-28 15:56:15] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:56:15]    ❌ FAILED HTTP=200
[2026-02-28 15:56:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:56:15]    Retry scheduled at: 2026-02-28 15:57:15.357818
[2026-02-28 15:56:33] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:56:33 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:56:33]    Attempt #1
[2026-02-28 15:56:33] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:56:33]    ❌ FAILED HTTP=200
[2026-02-28 15:56:33]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:56:33]    Retry scheduled at: 2026-02-28 15:57:33.466816
[2026-02-28 15:57:15] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:57:15 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:57:15]    Attempt #1
[2026-02-28 15:57:15] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:57:15]    ❌ FAILED HTTP=200
[2026-02-28 15:57:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:57:15]    Retry scheduled at: 2026-02-28 15:58:15.684734
[2026-02-28 15:57:15] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:57:15 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:57:15]    Attempt #1
[2026-02-28 15:57:15] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:57:15]    ❌ FAILED HTTP=200
[2026-02-28 15:57:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:57:15]    Retry scheduled at: 2026-02-28 15:58:15.715981
[2026-02-28 15:57:15] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:57:15 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:57:15]    Attempt #1
[2026-02-28 15:57:15] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:57:15]    ❌ FAILED HTTP=200
[2026-02-28 15:57:15]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:57:15]    Retry scheduled at: 2026-02-28 15:58:15.731606
[2026-02-28 15:57:33] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:57:33 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:57:33]    Attempt #1
[2026-02-28 15:57:33] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:57:33]    ❌ FAILED HTTP=200
[2026-02-28 15:57:33]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:57:33]    Retry scheduled at: 2026-02-28 15:58:33.856241
[2026-02-28 15:58:16] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:58:16 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:58:16]    Attempt #1
[2026-02-28 15:58:16] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:58:16]    ❌ FAILED HTTP=200
[2026-02-28 15:58:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:58:16]    Retry scheduled at: 2026-02-28 15:59:16.089770
[2026-02-28 15:58:16] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:58:16 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:58:16]    Attempt #1
[2026-02-28 15:58:16] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:58:16]    ❌ FAILED HTTP=200
[2026-02-28 15:58:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:58:16]    Retry scheduled at: 2026-02-28 15:59:16.152272
[2026-02-28 15:58:16] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:58:16 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:58:16]    Attempt #1
[2026-02-28 15:58:16] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:58:16]    ❌ FAILED HTTP=200
[2026-02-28 15:58:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:58:16]    Retry scheduled at: 2026-02-28 15:59:16.199145
[2026-02-28 15:58:34] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:58:34 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:58:34]    Attempt #1
[2026-02-28 15:58:34] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:58:34]    ❌ FAILED HTTP=200
[2026-02-28 15:58:34]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:58:34]    Retry scheduled at: 2026-02-28 15:59:34.355045
[2026-02-28 15:59:16] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 15:59:16 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:59:16]    Attempt #1
[2026-02-28 15:59:16] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:59:16]    ❌ FAILED HTTP=200
[2026-02-28 15:59:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:59:16]    Retry scheduled at: 2026-02-28 16:00:16.541701
[2026-02-28 15:59:16] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 15:59:16 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 15:59:16]    Attempt #1
[2026-02-28 15:59:16] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 15:59:16]    ❌ FAILED HTTP=200
[2026-02-28 15:59:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:59:16]    Retry scheduled at: 2026-02-28 16:00:16.604224
[2026-02-28 15:59:16] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 15:59:16 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:59:16]    Attempt #1
[2026-02-28 15:59:16] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:59:16]    ❌ FAILED HTTP=200
[2026-02-28 15:59:16]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:59:16]    Retry scheduled at: 2026-02-28 16:00:16.822943
[2026-02-28 15:59:34] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 15:59:34 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 15:59:34]    Attempt #1
[2026-02-28 15:59:34] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 15:59:34]    ❌ FAILED HTTP=200
[2026-02-28 15:59:34]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 15:59:34]    Retry scheduled at: 2026-02-28 16:00:34.978829
[2026-02-28 16:00:17] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:00:17 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:00:17]    Attempt #1
[2026-02-28 16:00:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:00:17]    ❌ FAILED HTTP=200
[2026-02-28 16:00:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:00:17]    Retry scheduled at: 2026-02-28 16:01:17.165493
[2026-02-28 16:00:17] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:00:17 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:00:17]    Attempt #1
[2026-02-28 16:00:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:00:17]    ❌ FAILED HTTP=200
[2026-02-28 16:00:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:00:17]    Retry scheduled at: 2026-02-28 16:01:17.212369
[2026-02-28 16:00:17] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:00:17 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:00:17]    Attempt #1
[2026-02-28 16:00:17] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:00:17]    ❌ FAILED HTTP=200
[2026-02-28 16:00:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:00:17]    Retry scheduled at: 2026-02-28 16:01:17.274867
[2026-02-28 16:00:35] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:00:35 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:00:35]    Attempt #1
[2026-02-28 16:00:35] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:00:35]    ❌ FAILED HTTP=200
[2026-02-28 16:00:35]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:00:35]    Retry scheduled at: 2026-02-28 16:01:35.383900
[2026-02-28 16:01:17] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:01:17 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:01:17]    Attempt #1
[2026-02-28 16:01:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:01:17]    ❌ FAILED HTTP=200
[2026-02-28 16:01:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:01:17]    Retry scheduled at: 2026-02-28 16:02:17.617232
[2026-02-28 16:01:17] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:01:17 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:01:17]    Attempt #1
[2026-02-28 16:01:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:01:17]    ❌ FAILED HTTP=200
[2026-02-28 16:01:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:01:17]    Retry scheduled at: 2026-02-28 16:02:17.664108
[2026-02-28 16:01:17] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:01:17 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:01:17]    Attempt #1
[2026-02-28 16:01:17] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:01:17]    ❌ FAILED HTTP=200
[2026-02-28 16:01:17]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:01:17]    Retry scheduled at: 2026-02-28 16:02:17.664108
[2026-02-28 16:01:35] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:01:35 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:01:35]    Attempt #1
[2026-02-28 16:01:35] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:01:35]    ❌ FAILED HTTP=200
[2026-02-28 16:01:35]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:01:35]    Retry scheduled at: 2026-02-28 16:02:35.773042
[2026-02-28 16:02:19] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:02:18 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:02:19]    Attempt #1
[2026-02-28 16:02:19] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:02:19]    ❌ FAILED HTTP=200
[2026-02-28 16:02:19]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:02:19]    Retry scheduled at: 2026-02-28 16:03:19.975066
[2026-02-28 16:02:19] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:02:18 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:02:19]    Attempt #1
[2026-02-28 16:02:19] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:02:19]    ❌ FAILED HTTP=200
[2026-02-28 16:02:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:02:20]    Retry scheduled at: 2026-02-28 16:03:20.021943
[2026-02-28 16:02:20] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:02:18 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:02:20]    Attempt #1
[2026-02-28 16:02:20] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:02:20]    ❌ FAILED HTTP=200
[2026-02-28 16:02:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:02:20]    Retry scheduled at: 2026-02-28 16:03:20.053192
[2026-02-28 16:02:36] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:02:36 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:02:36]    Attempt #1
[2026-02-28 16:02:36] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:02:36]    ❌ FAILED HTTP=200
[2026-02-28 16:02:36]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:02:36]    Retry scheduled at: 2026-02-28 16:03:36.177793
[2026-02-28 16:03:20] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:03:20 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:03:20]    Attempt #1
[2026-02-28 16:03:20] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:03:20]    ❌ FAILED HTTP=200
[2026-02-28 16:03:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:03:20]    Retry scheduled at: 2026-02-28 16:04:20.379825
[2026-02-28 16:03:20] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:03:20 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:03:20]    Attempt #1
[2026-02-28 16:03:20] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:03:20]    ❌ FAILED HTTP=200
[2026-02-28 16:03:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:03:20]    Retry scheduled at: 2026-02-28 16:04:20.411073
[2026-02-28 16:03:20] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:03:20 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:03:20]    Attempt #1
[2026-02-28 16:03:20] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:03:20]    ❌ FAILED HTTP=200
[2026-02-28 16:03:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:03:20]    Retry scheduled at: 2026-02-28 16:04:20.442323
[2026-02-28 16:03:36] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:03:36 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:03:36]    Attempt #1
[2026-02-28 16:03:36] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:03:36]    ❌ FAILED HTTP=200
[2026-02-28 16:03:36]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:03:36]    Retry scheduled at: 2026-02-28 16:04:36.535672
[2026-02-28 16:04:20] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:04:20 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:04:20]    Attempt #1
[2026-02-28 16:04:20] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:04:20]    ❌ FAILED HTTP=200
[2026-02-28 16:04:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:04:20]    Retry scheduled at: 2026-02-28 16:05:20.847087
[2026-02-28 16:04:20] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:04:20 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:04:20]    Attempt #1
[2026-02-28 16:04:20] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:04:20]    ❌ FAILED HTTP=200
[2026-02-28 16:04:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:04:20]    Retry scheduled at: 2026-02-28 16:05:20.878328
[2026-02-28 16:04:20] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:04:20 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:04:20]    Attempt #1
[2026-02-28 16:04:20] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:04:20]    ❌ FAILED HTTP=200
[2026-02-28 16:04:20]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:04:20]    Retry scheduled at: 2026-02-28 16:05:20.909576
[2026-02-28 16:04:38] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:04:37 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:04:39]    Attempt #1
[2026-02-28 16:04:39] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:04:39]    ❌ FAILED HTTP=200
[2026-02-28 16:04:39]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:04:39]    Retry scheduled at: 2026-02-28 16:05:39.018504
[2026-02-28 16:05:21] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:05:21 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:05:21]    Attempt #1
[2026-02-28 16:05:21] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:05:21]    ❌ FAILED HTTP=200
[2026-02-28 16:05:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:05:21]    Retry scheduled at: 2026-02-28 16:06:21.236211
[2026-02-28 16:05:21] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:05:21 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:05:21]    Attempt #1
[2026-02-28 16:05:21] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:05:21]    ❌ FAILED HTTP=200
[2026-02-28 16:05:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:05:21]    Retry scheduled at: 2026-02-28 16:06:21.283088
[2026-02-28 16:05:21] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:05:21 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:05:21]    Attempt #1
[2026-02-28 16:05:21] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:05:21]    ❌ FAILED HTTP=200
[2026-02-28 16:05:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:05:21]    Retry scheduled at: 2026-02-28 16:06:21.314337
[2026-02-28 16:05:39] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:05:39 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:05:39]    Attempt #1
[2026-02-28 16:05:39] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:05:39]    ❌ FAILED HTTP=200
[2026-02-28 16:05:39]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:05:39]    Retry scheduled at: 2026-02-28 16:06:39.423257
[2026-02-28 16:06:21] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:06:21 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:06:21]    Attempt #1
[2026-02-28 16:06:21] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:06:21]    ❌ FAILED HTTP=200
[2026-02-28 16:06:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:06:21]    Retry scheduled at: 2026-02-28 16:07:21.672213
[2026-02-28 16:06:21] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:06:21 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:06:21]    Attempt #1
[2026-02-28 16:06:21] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:06:21]    ❌ FAILED HTTP=200
[2026-02-28 16:06:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:06:21]    Retry scheduled at: 2026-02-28 16:07:21.734715
[2026-02-28 16:06:21] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:06:21 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:06:21]    Attempt #1
[2026-02-28 16:06:21] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:06:21]    ❌ FAILED HTTP=200
[2026-02-28 16:06:21]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:06:21]    Retry scheduled at: 2026-02-28 16:07:21.781587
[2026-02-28 16:06:39] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:06:39 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:06:39]    Attempt #1
[2026-02-28 16:06:39] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:06:39]    ❌ FAILED HTTP=200
[2026-02-28 16:06:39]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:06:39]    Retry scheduled at: 2026-02-28 16:07:39.890524
[2026-02-28 16:07:22] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:07:22 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:07:22]    Attempt #1
[2026-02-28 16:07:22] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:07:22]    ❌ FAILED HTTP=200
[2026-02-28 16:07:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:07:22]    Retry scheduled at: 2026-02-28 16:08:22.108225
[2026-02-28 16:07:22] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:07:22 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:07:22]    Attempt #1
[2026-02-28 16:07:22] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:07:22]    ❌ FAILED HTTP=200
[2026-02-28 16:07:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:07:22]    Retry scheduled at: 2026-02-28 16:08:22.155101
[2026-02-28 16:07:22] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:07:22 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:07:22]    Attempt #1
[2026-02-28 16:07:22] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:07:22]    ❌ FAILED HTTP=200
[2026-02-28 16:07:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:07:22]    Retry scheduled at: 2026-02-28 16:08:22.186350
[2026-02-28 16:07:40] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:07:40 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:07:40]    Attempt #1
[2026-02-28 16:07:40] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:07:40]    ❌ FAILED HTTP=200
[2026-02-28 16:07:40]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:07:40]    Retry scheduled at: 2026-02-28 16:08:40.310897
[2026-02-28 16:08:22] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:08:22 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:08:22]    Attempt #1
[2026-02-28 16:08:22] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:08:22]    ❌ FAILED HTTP=200
[2026-02-28 16:08:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:08:22]    Retry scheduled at: 2026-02-28 16:09:22.544251
[2026-02-28 16:08:22] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:08:22 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:08:22]    Attempt #1
[2026-02-28 16:08:22] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:08:22]    ❌ FAILED HTTP=200
[2026-02-28 16:08:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:08:22]    Retry scheduled at: 2026-02-28 16:09:22.575485
[2026-02-28 16:08:22] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:08:22 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:08:22]    Attempt #1
[2026-02-28 16:08:22] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:08:22]    ❌ FAILED HTTP=200
[2026-02-28 16:08:22]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:08:22]    Retry scheduled at: 2026-02-28 16:09:22.591125
[2026-02-28 16:08:40] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:08:40 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:08:40]    Attempt #1
[2026-02-28 16:08:40] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:08:40]    ❌ FAILED HTTP=200
[2026-02-28 16:08:40]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:08:40]    Retry scheduled at: 2026-02-28 16:09:40.715656
[2026-02-28 16:09:24] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:09:23 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:09:24]    Attempt #1
[2026-02-28 16:09:24] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:09:24]    ❌ FAILED HTTP=200
[2026-02-28 16:09:24]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:09:24]    Retry scheduled at: 2026-02-28 16:10:24.980180
[2026-02-28 16:09:24] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:09:23 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:09:24]    Attempt #1
[2026-02-28 16:09:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:09:25]    ❌ FAILED HTTP=200
[2026-02-28 16:09:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:09:25]    Retry scheduled at: 2026-02-28 16:10:25.027058
[2026-02-28 16:09:25] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:09:23 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:09:25]    Attempt #1
[2026-02-28 16:09:25] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:09:25]    ❌ FAILED HTTP=200
[2026-02-28 16:09:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:09:25]    Retry scheduled at: 2026-02-28 16:10:25.058306
[2026-02-28 16:09:41] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:09:41 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:09:41]    Attempt #1
[2026-02-28 16:09:41] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:09:41]    ❌ FAILED HTTP=200
[2026-02-28 16:09:41]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:09:41]    Retry scheduled at: 2026-02-28 16:10:41.198532
[2026-02-28 16:10:25] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:10:25 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:10:25]    Attempt #1
[2026-02-28 16:10:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:10:25]    ❌ FAILED HTTP=200
[2026-02-28 16:10:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:10:25]    Retry scheduled at: 2026-02-28 16:11:25.416189
[2026-02-28 16:10:25] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:10:25 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:10:25]    Attempt #1
[2026-02-28 16:10:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:10:25]    ❌ FAILED HTTP=200
[2026-02-28 16:10:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:10:25]    Retry scheduled at: 2026-02-28 16:11:25.463064
[2026-02-28 16:10:25] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:10:25 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:10:25]    Attempt #1
[2026-02-28 16:10:25] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:10:25]    ❌ FAILED HTTP=200
[2026-02-28 16:10:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:10:25]    Retry scheduled at: 2026-02-28 16:11:25.525564
[2026-02-28 16:10:41] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:10:41 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:10:41]    Attempt #1
[2026-02-28 16:10:41] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:10:41]    ❌ FAILED HTTP=200
[2026-02-28 16:10:41]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:10:41]    Retry scheduled at: 2026-02-28 16:11:41.618912
[2026-02-28 16:11:25] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:11:25 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:11:25]    Attempt #1
[2026-02-28 16:11:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:11:25]    ❌ FAILED HTTP=200
[2026-02-28 16:11:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:11:25]    Retry scheduled at: 2026-02-28 16:12:25.820945
[2026-02-28 16:11:25] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:11:25 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:11:25]    Attempt #1
[2026-02-28 16:11:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:11:25]    ❌ FAILED HTTP=200
[2026-02-28 16:11:25]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:11:25]    Retry scheduled at: 2026-02-28 16:12:25.867821
[2026-02-28 16:11:27] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:11:26 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:11:27]    Attempt #1
[2026-02-28 16:11:27] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:11:27]    ❌ FAILED HTTP=200
[2026-02-28 16:11:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:11:27]    Retry scheduled at: 2026-02-28 16:12:27.914665
[2026-02-28 16:11:42] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:11:42 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:11:42]    Attempt #1
[2026-02-28 16:11:42] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:11:42]    ❌ FAILED HTTP=200
[2026-02-28 16:11:42]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:11:42]    Retry scheduled at: 2026-02-28 16:12:42.054916
[2026-02-28 16:12:26] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:12:26 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:12:26]    Attempt #1
[2026-02-28 16:12:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:12:26]    ❌ FAILED HTTP=200
[2026-02-28 16:12:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:12:26]    Retry scheduled at: 2026-02-28 16:13:26.256955
[2026-02-28 16:12:26] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:12:26 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:12:26]    Attempt #1
[2026-02-28 16:12:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:12:26]    ❌ FAILED HTTP=200
[2026-02-28 16:12:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:12:26]    Retry scheduled at: 2026-02-28 16:13:26.303836
[2026-02-28 16:12:28] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:12:28 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:12:28]    Attempt #1
[2026-02-28 16:12:28] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:12:28]    ❌ FAILED HTTP=200
[2026-02-28 16:12:28]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:12:28]    Retry scheduled at: 2026-02-28 16:13:28.350649
[2026-02-28 16:12:42] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:12:42 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:12:42]    Attempt #1
[2026-02-28 16:12:42] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:12:42]    ❌ FAILED HTTP=200
[2026-02-28 16:12:42]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:12:42]    Retry scheduled at: 2026-02-28 16:13:42.459676
[2026-02-28 16:13:26] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:13:26 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:13:26]    Attempt #1
[2026-02-28 16:13:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:13:26]    ❌ FAILED HTTP=200
[2026-02-28 16:13:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:13:26]    Retry scheduled at: 2026-02-28 16:14:26.724206
[2026-02-28 16:13:26] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:13:26 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:13:26]    Attempt #1
[2026-02-28 16:13:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:13:26]    ❌ FAILED HTTP=200
[2026-02-28 16:13:26]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:13:26]    Retry scheduled at: 2026-02-28 16:14:26.771078
[2026-02-28 16:13:28] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:13:28 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:13:28]    Attempt #1
[2026-02-28 16:13:28] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:13:28]    ❌ FAILED HTTP=200
[2026-02-28 16:13:28]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:13:28]    Retry scheduled at: 2026-02-28 16:14:28.817910
[2026-02-28 16:13:42] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:13:42 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:13:42]    Attempt #1
[2026-02-28 16:13:42] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:13:42]    ❌ FAILED HTTP=200
[2026-02-28 16:13:42]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:13:42]    Retry scheduled at: 2026-02-28 16:14:42.911328
[2026-02-28 16:14:27] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:14:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:14:27]    Attempt #1
[2026-02-28 16:14:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:14:27]    ❌ FAILED HTTP=200
[2026-02-28 16:14:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:14:27]    Retry scheduled at: 2026-02-28 16:15:27.160432
[2026-02-28 16:14:27] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:14:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:14:27]    Attempt #1
[2026-02-28 16:14:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:14:27]    ❌ FAILED HTTP=200
[2026-02-28 16:14:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:14:27]    Retry scheduled at: 2026-02-28 16:15:27.191679
[2026-02-28 16:14:29] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:14:29 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:14:29]    Attempt #1
[2026-02-28 16:14:29] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:14:29]    ❌ FAILED HTTP=200
[2026-02-28 16:14:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:14:29]    Retry scheduled at: 2026-02-28 16:15:29.238511
[2026-02-28 16:14:43] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:14:43 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:14:43]    Attempt #1
[2026-02-28 16:14:43] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:14:43]    ❌ FAILED HTTP=200
[2026-02-28 16:14:43]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:14:43]    Retry scheduled at: 2026-02-28 16:15:43.363222
[2026-02-28 16:15:27] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:15:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:15:27]    Attempt #1
[2026-02-28 16:15:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:15:27]    ❌ FAILED HTTP=200
[2026-02-28 16:15:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:15:27]    Retry scheduled at: 2026-02-28 16:16:27.674813
[2026-02-28 16:15:27] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:15:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:15:27]    Attempt #1
[2026-02-28 16:15:27] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:15:27]    ❌ FAILED HTTP=200
[2026-02-28 16:15:27]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:15:27]    Retry scheduled at: 2026-02-28 16:16:27.721689
[2026-02-28 16:15:29] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:15:29 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:15:29]    Attempt #1
[2026-02-28 16:15:29] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:15:29]    ❌ FAILED HTTP=200
[2026-02-28 16:15:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:15:29]    Retry scheduled at: 2026-02-28 16:16:29.768523
[2026-02-28 16:15:43] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:15:43 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:15:43]    Attempt #1
[2026-02-28 16:15:43] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:15:43]    ❌ FAILED HTTP=200
[2026-02-28 16:15:43]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:15:43]    Retry scheduled at: 2026-02-28 16:16:43.861985
[2026-02-28 16:16:28] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:16:28 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:16:28]    Attempt #1
[2026-02-28 16:16:28] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:16:28]    ❌ FAILED HTTP=200
[2026-02-28 16:16:28]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:16:28]    Retry scheduled at: 2026-02-28 16:17:28.314206
[2026-02-28 16:16:28] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:16:28 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:16:28]    Attempt #1
[2026-02-28 16:16:28] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:16:28]    ❌ FAILED HTTP=200
[2026-02-28 16:16:28]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:16:28]    Retry scheduled at: 2026-02-28 16:17:28.798570
[2026-02-28 16:16:30] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:16:30 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:16:30]    Attempt #1
[2026-02-28 16:16:30] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:16:30]    ❌ FAILED HTTP=200
[2026-02-28 16:16:30]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:16:30]    Retry scheduled at: 2026-02-28 16:17:30.892285
[2026-02-28 16:16:45] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:16:44 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:16:45]    Attempt #1
[2026-02-28 16:16:45] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:16:45]    ❌ FAILED HTTP=200
[2026-02-28 16:16:45]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:16:45]    Retry scheduled at: 2026-02-28 16:17:45.266967
[2026-02-28 16:17:29] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:17:28 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:17:29]    Attempt #1
[2026-02-28 16:17:29] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:17:29]    ❌ FAILED HTTP=200
[2026-02-28 16:17:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:17:29]    Retry scheduled at: 2026-02-28 16:18:29.547120
[2026-02-28 16:17:29] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:17:29 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:17:29]    Attempt #1
[2026-02-28 16:17:29] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:17:29]    ❌ FAILED HTTP=200
[2026-02-28 16:17:29]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:17:29]    Retry scheduled at: 2026-02-28 16:18:29.578371
[2026-02-28 16:17:31] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:17:31 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:17:31]    Attempt #1
[2026-02-28 16:17:31] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:17:31]    ❌ FAILED HTTP=200
[2026-02-28 16:17:31]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:17:31]    Retry scheduled at: 2026-02-28 16:18:31.640819
[2026-02-28 16:17:45] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:17:45 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:17:45]    Attempt #1
[2026-02-28 16:17:45] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:17:45]    ❌ FAILED HTTP=200
[2026-02-28 16:17:45]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:17:45]    Retry scheduled at: 2026-02-28 16:18:45.749856
[2026-02-28 16:18:31] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:18:30 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:18:31]    Attempt #1
[2026-02-28 16:18:31] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:18:31]    ❌ FAILED HTTP=200
[2026-02-28 16:18:31]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:18:31]    Retry scheduled at: 2026-02-28 16:19:31.998702
[2026-02-28 16:18:31] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:18:30 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:18:31]    Attempt #1
[2026-02-28 16:18:31] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:18:32]    ❌ FAILED HTTP=200
[2026-02-28 16:18:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:18:32]    Retry scheduled at: 2026-02-28 16:19:32.029951
[2026-02-28 16:18:32] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:18:32 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:18:32]    Attempt #1
[2026-02-28 16:18:32] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:18:32]    ❌ FAILED HTTP=200
[2026-02-28 16:18:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:18:32]    Retry scheduled at: 2026-02-28 16:19:32.061199
[2026-02-28 16:18:46] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:18:46 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:18:46]    Attempt #1
[2026-02-28 16:18:46] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:18:46]    ❌ FAILED HTTP=200
[2026-02-28 16:18:46]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:18:46]    Retry scheduled at: 2026-02-28 16:19:46.154606
[2026-02-28 16:19:32] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:19:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:19:32]    Attempt #1
[2026-02-28 16:19:32] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:19:32]    ❌ FAILED HTTP=200
[2026-02-28 16:19:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:19:32]    Retry scheduled at: 2026-02-28 16:20:32.434716
[2026-02-28 16:19:32] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:19:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:19:32]    Attempt #1
[2026-02-28 16:19:32] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:19:32]    ❌ FAILED HTTP=200
[2026-02-28 16:19:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:19:32]    Retry scheduled at: 2026-02-28 16:20:32.465966
[2026-02-28 16:19:32] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:19:32 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:19:32]    Attempt #1
[2026-02-28 16:19:32] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:19:32]    ❌ FAILED HTTP=200
[2026-02-28 16:19:32]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:19:32]    Retry scheduled at: 2026-02-28 16:20:32.481605
[2026-02-28 16:19:46] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:19:46 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:19:46]    Attempt #1
[2026-02-28 16:19:46] Sending MQTT message to topic: JJ/tts/cmd
[2026-02-28 16:19:46]    ❌ FAILED HTTP=200
[2026-02-28 16:19:46]    Error: name 'fetch_job_by_id' is not defined Traceback (most recent call last):   File "scheduler.py", line 535, in run_loop     fresh = fetch_job_by_id(conn, job_id) or job NameError: name 'fetch_job_by_id' is not defined 
[2026-02-28 16:19:46]    Retry scheduled at: 2026-02-28 16:20:46.574984
[2026-02-28 16:20:35] Scheduler started. Poll interval=2s batch=20
[2026-02-28 16:20:35] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 16:20:35] MySQL session time_zone will be set to +08:00
[2026-02-28 16:29:23] Scheduler started. Poll interval=2s batch=20
[2026-02-28 16:29:23] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 16:29:23] MySQL session time_zone will be set to +08:00
[2026-02-28 16:31:44] Scheduler started. Poll interval=2s batch=20
[2026-02-28 16:31:44] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 16:31:44] MySQL session time_zone will be set to +08:00
[2026-02-28 16:31:44] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:20:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:31:44]    Attempt #1
[2026-02-28 16:31:44] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:31:44] [32mMQTT connected.[0m
[2026-02-28 16:31:45] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:31:45]    Next: 2026-03-01 09:00:00
[2026-02-28 16:31:45] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 16:20:32 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:31:45]    Attempt #1
[2026-02-28 16:31:45] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:31:46] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:31:46]    Next: 2026-02-28 18:00:00
[2026-02-28 16:31:46] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:20:32 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:31:46]    Attempt #1
[2026-02-28 16:31:46] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 16:31:46]    Next: 2026-02-28 18:00:00
[2026-02-28 16:31:46] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 16:20:47 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:31:46]    Attempt #1
[2026-02-28 16:31:46] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 16:31:46]    Next: 2026-03-01 12:00:00
[2026-02-28 16:32:38] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 16:32:37 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 16:32:38]    Attempt #1
[2026-02-28 16:32:38] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 16:32:38]    Next: 2026-02-28 18:00:00
[2026-02-28 16:32:52] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 16:32:51 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 16:32:52]    Attempt #1
[2026-02-28 16:32:52] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 16:32:53] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:32:53]    Next: 2026-03-01 09:00:00
[2026-02-28 16:34:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:01]    Attempt #1
[2026-02-28 16:34:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:01]    Next: NULL
[2026-02-28 16:34:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:03.790519 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:03]    Attempt #1
[2026-02-28 16:34:03] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:04] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:04]    Next: NULL
[2026-02-28 16:34:06] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:06.071692 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:06]    Attempt #1
[2026-02-28 16:34:06] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:06] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:06]    Next: NULL
[2026-02-28 16:34:08] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:08.352863 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:08]    Attempt #1
[2026-02-28 16:34:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:08] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:08]    Next: NULL
[2026-02-28 16:34:10] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:10.649695 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:10]    Attempt #1
[2026-02-28 16:34:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:10] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:10]    Next: NULL
[2026-02-28 16:34:12] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:12.962161 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:12]    Attempt #1
[2026-02-28 16:34:13] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:13] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:13]    Next: NULL
[2026-02-28 16:34:15] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:15.227723 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:15]    Attempt #1
[2026-02-28 16:34:15] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:15] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:15]    Next: NULL
[2026-02-28 16:34:17] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:17.587049 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:17]    Attempt #1
[2026-02-28 16:34:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:17] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:17]    Next: NULL
[2026-02-28 16:34:19] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:19.852625 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:19]    Attempt #1
[2026-02-28 16:34:19] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:20] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:20]    Next: NULL
[2026-02-28 16:34:22] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:22.118194 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:22]    Attempt #1
[2026-02-28 16:34:22] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:22] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:22]    Next: NULL
[2026-02-28 16:34:24] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:24.383765 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:24]    Attempt #1
[2026-02-28 16:34:24] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:24] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:24]    Next: NULL
[2026-02-28 16:34:26] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:26.649330 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:26]    Attempt #1
[2026-02-28 16:34:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:26] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:26]    Next: NULL
[2026-02-28 16:34:28] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:28.930504 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:28]    Attempt #1
[2026-02-28 16:34:28] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:29] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:29]    Next: NULL
[2026-02-28 16:34:31] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:31.211736 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:31]    Attempt #1
[2026-02-28 16:34:31] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:31] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:31]    Next: NULL
[2026-02-28 16:34:33] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:33.477263 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:33]    Attempt #1
[2026-02-28 16:34:33] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:33] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:33]    Next: NULL
[2026-02-28 16:34:35] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:35.742851 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:35]    Attempt #1
[2026-02-28 16:34:35] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:36] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:36]    Next: NULL
[2026-02-28 16:34:38] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:38.039669 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:38]    Attempt #1
[2026-02-28 16:34:38] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:38] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:38]    Next: NULL
[2026-02-28 16:34:40] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:40.320843 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:40]    Attempt #1
[2026-02-28 16:34:40] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:40] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:40]    Next: NULL
[2026-02-28 16:34:42] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:42.586438 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:42]    Attempt #1
[2026-02-28 16:34:42] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:42] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:42]    Next: NULL
[2026-02-28 16:34:44] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:44.883247 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:44]    Attempt #1
[2026-02-28 16:34:44] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:45] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:45]    Next: NULL
[2026-02-28 16:34:47] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:47.180065 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:47]    Attempt #1
[2026-02-28 16:34:47] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:47] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:47]    Next: NULL
[2026-02-28 16:34:49] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:49.508131 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:49]    Attempt #1
[2026-02-28 16:34:49] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:49] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:49]    Next: NULL
[2026-02-28 16:34:51] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:51.851815 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:51]    Attempt #1
[2026-02-28 16:34:51] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:52] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:52]    Next: NULL
[2026-02-28 16:34:54] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:54.148639 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:54]    Attempt #1
[2026-02-28 16:34:54] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:54] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:54]    Next: NULL
[2026-02-28 16:34:56] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:56.429850 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:56]    Attempt #1
[2026-02-28 16:34:56] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:56] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:56]    Next: NULL
[2026-02-28 16:34:58] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:34:58.757891 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:34:58]    Attempt #1
[2026-02-28 16:34:58] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:34:59] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:34:59]    Next: NULL
[2026-02-28 16:35:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:01.070297 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:01]    Attempt #1
[2026-02-28 16:35:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:01]    Next: NULL
[2026-02-28 16:35:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:03.367150 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:03]    Attempt #1
[2026-02-28 16:35:03] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:03] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:03]    Next: NULL
[2026-02-28 16:35:05] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:05.710831 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:05]    Attempt #1
[2026-02-28 16:35:05] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:06] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:06]    Next: NULL
[2026-02-28 16:35:08] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:08.007676 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:08]    Attempt #1
[2026-02-28 16:35:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:08] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:08]    Next: NULL
[2026-02-28 16:35:10] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:10.320101 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:10]    Attempt #1
[2026-02-28 16:35:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:10] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:10]    Next: NULL
[2026-02-28 16:35:12] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:12.601304 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:12]    Attempt #1
[2026-02-28 16:35:12] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:12] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:12]    Next: NULL
[2026-02-28 16:35:14] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:14.898123 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:14]    Attempt #1
[2026-02-28 16:35:14] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:15] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:15]    Next: NULL
[2026-02-28 16:35:17] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:17.194936 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:17]    Attempt #1
[2026-02-28 16:35:17] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:17] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:17]    Next: NULL
[2026-02-28 16:35:19] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:19.507391 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:19]    Attempt #1
[2026-02-28 16:35:19] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:19] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:19]    Next: NULL
[2026-02-28 16:35:21] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:21.757336 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:21]    Attempt #1
[2026-02-28 16:35:21] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:22] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:22]    Next: NULL
[2026-02-28 16:35:24] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:24.022911 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:24]    Attempt #1
[2026-02-28 16:35:24] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:24] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:24]    Next: NULL
[2026-02-28 16:35:26] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:26.304084 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:26]    Attempt #1
[2026-02-28 16:35:26] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:26] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:26]    Next: NULL
[2026-02-28 16:35:28] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:28.569658 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:28]    Attempt #1
[2026-02-28 16:35:28] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:28] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:28]    Next: NULL
[2026-02-28 16:35:30] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:30.850845 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:30]    Attempt #1
[2026-02-28 16:35:30] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:31] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:31]    Next: NULL
[2026-02-28 16:35:33] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:33.178918 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:33]    Attempt #1
[2026-02-28 16:35:33] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:33] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:33]    Next: NULL
[2026-02-28 16:35:35] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:35.444483 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:35]    Attempt #1
[2026-02-28 16:35:35] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:35] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:35]    Next: NULL
[2026-02-28 16:35:37] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:37.725679 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:37]    Attempt #1
[2026-02-28 16:35:37] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:37] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:37]    Next: NULL
[2026-02-28 16:35:39] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:39.975614 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:40]    Attempt #1
[2026-02-28 16:35:40] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:40] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:40]    Next: NULL
[2026-02-28 16:35:42] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:42.241186 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:42]    Attempt #1
[2026-02-28 16:35:42] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:42] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:42]    Next: NULL
[2026-02-28 16:35:44] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:44.569224 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:44]    Attempt #1
[2026-02-28 16:35:44] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:45] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:45]    Next: NULL
[2026-02-28 16:35:47] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:47.116087 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:47]    Attempt #1
[2026-02-28 16:35:47] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:47] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:47]    Next: NULL
[2026-02-28 16:35:49] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:49.459783 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:49]    Attempt #1
[2026-02-28 16:35:49] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:49] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:49]    Next: NULL
[2026-02-28 16:35:51] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:51.725350 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:51]    Attempt #1
[2026-02-28 16:35:51] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:52] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:52]    Next: NULL
[2026-02-28 16:35:54] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:54.025000 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:54]    Attempt #1
[2026-02-28 16:35:54] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:54] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:54]    Next: NULL
[2026-02-28 16:35:56] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:56.397096 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:56]    Attempt #1
[2026-02-28 16:35:56] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:56] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:56]    Next: NULL
[2026-02-28 16:35:58] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:35:58.693925 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:35:58]    Attempt #1
[2026-02-28 16:35:58] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:35:58] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:35:58]    Next: NULL
[2026-02-28 16:36:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:36:01.024825 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:36:01]    Attempt #1
[2026-02-28 16:36:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:36:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:36:01]    Next: NULL
[2026-02-28 16:36:03] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:36:03.396936 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:36:03]    Attempt #1
[2026-02-28 16:36:03] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:36:04] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:36:04]    Next: NULL
[2026-02-28 16:36:06] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:36:06.178062 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:36:06]    Attempt #1
[2026-02-28 16:36:06] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:36:06] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:36:06]    Next: NULL
[2026-02-28 16:56:15] Scheduler started. Poll interval=2s batch=20
[2026-02-28 16:56:15] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 16:56:15] MySQL session time_zone will be set to +08:00
[2026-02-28 16:56:15] [32mMQTT connected.[0m
[2026-02-28 16:58:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 16:58:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 16:58:01]    Attempt #1
[2026-02-28 16:58:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 16:58:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 16:58:02] [33m   ⚠ next_run_at=None -> PAUSE job (check schedule fields): schedule_type=WEEKLY days_of_week={'Sat', 'Sun'} time_of_day=None times_of_day='13:17,13:49,16:58' timezone='Asia/Taipei'[0m
[2026-02-28 16:58:02]    Next: NULL
[2026-02-28 17:04:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 17:04:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 17:04:00]    Attempt #1
[2026-02-28 17:04:00] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 17:04:00] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:04:00] [33m   ⚠ next_run_at=None -> PAUSE job (check schedule fields): schedule_type=WEEKLY days_of_week={'Sat', 'Sun'} time_of_day=None times_of_day='13:17,13:49,17:04' timezone='Asia/Taipei'[0m
[2026-02-28 17:04:00]    Next: NULL
[2026-02-28 17:05:40] Scheduler started. Poll interval=2s batch=20
[2026-02-28 17:05:40] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 17:05:40] MySQL session time_zone will be set to +08:00
[2026-02-28 17:05:41] [32mMQTT connected.[0m
[2026-02-28 17:07:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 17:07:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 17:08:29]    Attempt #1
[2026-02-28 17:08:29] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 17:08:29] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:08:29]    Next: 2026-03-01 13:17:00
[2026-02-28 17:08:31] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 17:07:44 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:08:31]    Attempt #1
[2026-02-28 17:08:31] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:08:31]    Next: 2026-02-28 18:00:00
[2026-02-28 17:09:20] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 17:09:19 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:09:39]    Attempt #1
[2026-02-28 17:09:39] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:09:39]    Next: 2026-03-01 12:00:00
[2026-02-28 17:10:25] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 17:10:24 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:10:31]    Attempt #1
[2026-02-28 17:10:31] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:10:31]    Next: 2026-02-28 18:00:00
[2026-02-28 17:56:08] Scheduler started. Poll interval=2s batch=20
[2026-02-28 17:56:08] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 17:56:08] MySQL session time_zone will be set to +08:00
[2026-02-28 17:56:08] Control API: http://127.0.0.1:5055/run_immediate?job_id=ID (token enabled)
[2026-02-28 17:56:08] ▶ Job#1 '上午提醒動一動' [MQTT] planned=2026-02-28 17:42:56 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"休息時間，該起來動一動"}'
[2026-02-28 17:56:08]    Attempt #1
[2026-02-28 17:56:09] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:56:09]    Next: 2026-03-01 10:05:00
[2026-02-28 17:56:09] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 17:42:56 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 17:56:09]    Attempt #1
[2026-02-28 17:56:09] Sending HTTP request to https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 with headers None
[2026-02-28 17:56:10] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:56:10]    Next: NULL
[2026-02-28 17:56:10] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 17:42:56 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 17:56:10]    Attempt #1
[2026-02-28 17:56:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 17:56:10] [32mMQTT connected.[0m
[2026-02-28 17:56:10] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:56:10]    Next: 2026-03-01 13:17:00
[2026-02-28 17:56:10] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-02-28 17:42:56 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:56:10]    Attempt #1
[2026-02-28 17:56:10] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:56:10]    Next: 2026-03-01 09:00:00
[2026-02-28 17:56:10] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-02-28 17:42:56 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 17:56:10]    Attempt #1
[2026-02-28 17:56:10] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 17:56:11] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:56:11]    Next: 2026-03-01 09:00:00
[2026-02-28 17:56:11] ▶ Job#7 'Line提醒中午吃藥' [HTTP] planned=2026-02-28 17:42:56 url=https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 17:56:11]    Attempt #1
[2026-02-28 17:56:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 17:56:11] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:56:11]    Next: 2026-03-01 12:00:00
[2026-02-28 17:56:11] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 17:42:56 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 17:56:11]    Attempt #1
[2026-02-28 17:56:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 17:56:12] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 17:56:12]    Next: 2026-02-28 18:00:00
[2026-02-28 17:56:12] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 17:42:56 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:56:12]    Attempt #1
[2026-02-28 17:56:12] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:56:12]    Next: 2026-03-01 12:00:00
[2026-02-28 17:56:12] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 17:42:56 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 17:56:12]    Attempt #1
[2026-02-28 17:56:12] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 17:56:12]    Next: 2026-02-28 18:00:00
[2026-02-28 17:56:44] [31m[IMMEDIATE] error: name '_execute_one' is not defined[0m
[2026-02-28 17:56:44] [31mTraceback (most recent call last):
  File "scheduler.py", line 480, in run_loop
    _execute_one(conn, sender, jobx, default_tz, immediate=True)
NameError: name '_execute_one' is not defined
[0m
[2026-02-28 17:57:10] [31m[IMMEDIATE] error: name '_execute_one' is not defined[0m
[2026-02-28 17:57:10] [31mTraceback (most recent call last):
  File "scheduler.py", line 480, in run_loop
    _execute_one(conn, sender, jobx, default_tz, immediate=True)
NameError: name '_execute_one' is not defined
[0m
[2026-02-28 17:57:56] [31m[IMMEDIATE] error: name '_execute_one' is not defined[0m
[2026-02-28 17:57:56] [31mTraceback (most recent call last):
  File "scheduler.py", line 480, in run_loop
    _execute_one(conn, sender, jobx, default_tz, immediate=True)
NameError: name '_execute_one' is not defined
[0m
[2026-02-28 18:00:01] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 18:00:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 18:00:01]    Attempt #1
[2026-02-28 18:00:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 18:00:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:00:01]    Next: 2026-03-01 18:00:00
[2026-02-28 18:00:01] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-02-28 18:00:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-02-28 18:00:01]    Attempt #1
[2026-02-28 18:00:01] [32m   ✅ SUCCESS HTTP=0[0m
[2026-02-28 18:00:01]    Next: 2026-03-01 18:00:00
[2026-02-28 18:00:37] [31m[IMMEDIATE] error: name '_execute_one' is not defined[0m
[2026-02-28 18:00:37] [31mTraceback (most recent call last):
  File "scheduler.py", line 480, in run_loop
    _execute_one(conn, sender, jobx, default_tz, immediate=True)
NameError: name '_execute_one' is not defined
[0m
[2026-02-28 18:06:53] Scheduler started. Poll interval=2s batch=20
[2026-02-28 18:06:53] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-02-28 18:06:53] MySQL session time_zone will be set to +08:00
[2026-02-28 18:06:54] Control API: http://127.0.0.1:5055/run_immediate?job_id=ID (token enabled)
[2026-02-28 18:06:54] [32mMQTT connected.[0m
[2026-02-28 18:07:16] [IMMEDIATE] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-02-28 18:07:16.152070 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-02-28 18:07:16] [IMMEDIATE]    Attempt #1
[2026-02-28 18:07:16] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-02-28 18:07:16] [IMMEDIATE]    Next: 2026-03-01 12:00:00
[2026-02-28 18:07:32] [IMMEDIATE] ▶ Job#7 'Line提醒中午吃藥' [HTTP] planned=2026-02-28 18:07:32.245391 url=https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 18:07:32] [IMMEDIATE]    Attempt #1
[2026-02-28 18:07:32] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 18:07:33] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:07:33] [IMMEDIATE]    Next: 2026-03-01 12:00:00
[2026-02-28 18:08:33] [IMMEDIATE] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 18:08:33.697028 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 18:08:33] [IMMEDIATE]    Attempt #1
[2026-02-28 18:08:33] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 18:08:34] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:08:34] [IMMEDIATE]    Next: 2026-03-01 13:17:00
[2026-02-28 18:10:00] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 18:10:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 18:10:00]    Attempt #1
[2026-02-28 18:10:00] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你的健康該吃藥了&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 18:10:00] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:10:00]    Next: 2026-03-01 13:17:00
[2026-02-28 18:14:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-02-28 18:14:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-02-28 18:14:01]    Attempt #1
[2026-02-28 18:14:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-02-28 18:14:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:14:01]    Next: 2026-03-01 13:17:00
[2026-02-28 18:18:01] ▶ Job#2 'HTTP Test text' [HTTP] planned=2026-02-28 18:18:00 url=https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 payload=''
[2026-02-28 18:18:01]    Attempt #1
[2026-02-28 18:18:01] Sending HTTP request to https://test.prof-jj.com//api/push?phone=0970405855&msg=%E4%BD%A0%E5%A5%BD%E5%97%8E&key=1234567890987654321 with headers None
[2026-02-28 18:18:01] [32m   ✅ SUCCESS HTTP=200[0m
[2026-02-28 18:18:01]    Next: NULL
[2026-02-28 18:18:48] [IMMEDIATE] ▶ Job#1 '上午提醒動一動' [MQTT] planned=2026-02-28 18:18:48.091108 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"休息時間，該起來動一動"}'
[2026-02-28 18:18:48] [IMMEDIATE]    Attempt #1
[2026-02-28 18:18:48] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-02-28 18:18:48] [IMMEDIATE]    Next: 2026-03-01 10:05:00
[2026-02-28 19:52:48] [IMMEDIATE] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-02-28 19:52:48.434842 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-02-28 19:52:48] [IMMEDIATE]    Attempt #1
[2026-02-28 19:52:48] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-02-28 19:52:48] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-02-28 19:52:48] [IMMEDIATE]    Next: 2026-03-01 18:00:00
[2026-02-28 19:53:10] [IMMEDIATE] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-02-28 19:53:10.809365 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-02-28 19:53:10] [IMMEDIATE]    Attempt #1
[2026-02-28 19:53:10] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-02-28 19:53:10] [IMMEDIATE]    Next: 2026-03-01 09:00:00
[2026-03-01 09:00:00] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-03-01 09:00:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-03-01 09:00:00]    Attempt #1
[2026-03-01 09:00:01] [32m   ✅ SUCCESS HTTP=0[0m
[2026-03-01 09:00:01]    Next: 2026-03-02 09:00:00
[2026-03-01 09:00:01] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-03-01 09:00:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 09:00:01]    Attempt #1
[2026-03-01 09:00:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 09:00:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 09:00:02]    Next: 2026-03-02 09:00:00
[2026-03-01 10:00:01] ▶ Job#1 '上午提醒動一動' [MQTT] planned=2026-03-01 10:00:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"休息時間，該起來動一動"}'
[2026-03-01 10:00:01]    Attempt #1
[2026-03-01 10:00:01] [32m   ✅ SUCCESS HTTP=0[0m
[2026-03-01 10:00:01]    Next: 2026-03-02 10:00:00
[2026-03-01 12:00:01] ▶ Job#7 'Line提醒中午吃藥' [HTTP] planned=2026-03-01 12:00:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 12:00:01]    Attempt #1
[2026-03-01 12:00:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=午安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 12:00:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 12:00:02]    Next: 2026-03-02 12:00:00
[2026-03-01 12:00:02] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-03-01 12:00:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-03-01 12:00:02]    Attempt #1
[2026-03-01 12:00:02] [32m   ✅ SUCCESS HTTP=0[0m
[2026-03-01 12:00:02]    Next: 2026-03-02 12:00:00
[2026-03-01 13:17:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-03-01 13:17:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-03-01 13:17:01]    Attempt #1
[2026-03-01 13:17:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-03-01 13:17:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 13:17:02]    Next: 2026-03-01 13:49:00
[2026-03-01 13:26:39] [IMMEDIATE] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-03-01 13:26:39.415850 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-03-01 13:26:39] [IMMEDIATE]    Attempt #1
[2026-03-01 13:26:39] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 13:26:39] [IMMEDIATE]    Next: 2026-03-01 18:00:00
[2026-03-01 13:26:57] [IMMEDIATE] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-03-01 13:26:57.571738 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 13:26:57] [IMMEDIATE]    Attempt #1
[2026-03-01 13:26:57] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 13:26:57] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-03-01 13:26:58] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 13:47:11] [IMMEDIATE] ▶ Job#9 '語音提醒中午吃藥' [MQTT] planned=2026-03-01 13:47:11.123914 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-03-01 13:47:11] [IMMEDIATE]    Attempt #1
[2026-03-01 13:47:11] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 13:47:11] [IMMEDIATE]    Next: 2026-03-02 12:00:00
[2026-03-01 13:49:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-03-01 13:49:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-03-01 13:49:01]    Attempt #1
[2026-03-01 13:49:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-03-01 13:49:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 13:49:02]    Next: 2026-03-01 18:14:00
[2026-03-01 14:02:05] [IMMEDIATE] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-03-01 14:02:05.465409 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-03-01 14:02:05] [IMMEDIATE]    Attempt #1
[2026-03-01 14:02:05] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-03-01 14:02:05] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-03-01 14:02:05] [IMMEDIATE]    Next: 2026-03-01 18:14:00
[2026-03-01 14:02:27] [IMMEDIATE] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-03-01 14:02:27.996137 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-03-01 14:02:28] [IMMEDIATE]    Attempt #1
[2026-03-01 14:02:28] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 14:02:28] [IMMEDIATE]    Next: 2026-03-01 18:00:00
[2026-03-01 14:09:01] [IMMEDIATE] ▶ Job#5 '語音提醒早上吃藥' [MQTT] planned=2026-03-01 14:09:01.470796 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"早安你好，為了你的健康，該吃藥了"}'
[2026-03-01 14:09:01] [IMMEDIATE]    Attempt #1
[2026-03-01 14:09:01] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 14:09:01] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 15:08:01] ▶ Job#4 'Line推播測試' [HTTP] planned=2026-03-01 15:08:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 payload='{"title":"提醒通知","message":"實驗室溫度異常","level":"warning"}'
[2026-03-01 15:08:01]    Attempt #1
[2026-03-01 15:08:01] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=為了你健康該吃藥&key=1234567890987654321 with headers {'X-API-KEY': '123456789'}
[2026-03-01 15:08:02] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 15:08:02]    Next: 2026-03-07 13:17:00
[2026-03-01 15:13:15] [IMMEDIATE] ▶ Job#11 '語音提醒喝下午茶' [MQTT] planned=2026-03-01 15:13:15.149848 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，為了你的健康，該吃藥了"}'
[2026-03-01 15:13:15] [IMMEDIATE]    Attempt #1
[2026-03-01 15:13:15] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 15:13:15] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 15:17:14] [IMMEDIATE] ▶ Job#11 '語音提醒喝下午茶' [MQTT] planned=2026-03-01 15:17:14.176003 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，下午茶的時間到了，來杯下午茶吧"}'
[2026-03-01 15:17:14] [IMMEDIATE]    Attempt #1
[2026-03-01 15:17:14] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 15:17:14] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 15:19:00] ▶ Job#11 '語音提醒喝下午茶' [MQTT] planned=2026-03-01 15:19:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，下午茶的時間到了，來杯下午茶吧"}'
[2026-03-01 15:19:00]    Attempt #1
[2026-03-01 15:19:00] [32m   ✅ SUCCESS HTTP=0[0m
[2026-03-01 15:19:00]    Next: 2026-03-02 15:19:00
[2026-03-01 16:10:49] [IMMEDIATE] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-03-01 16:10:49.747756 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 16:10:49] [IMMEDIATE]    Attempt #1
[2026-03-01 16:10:50] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 16:10:51] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-03-01 16:10:51] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 17:08:07] [IMMEDIATE] ▶ Job#6 'Line提醒早上吃藥' [HTTP] planned=2026-03-01 17:08:07.918984 url=https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 17:08:07] [IMMEDIATE]    Attempt #1
[2026-03-01 17:08:08] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=早安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 17:08:08] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-03-01 17:08:08] [IMMEDIATE]    Next: 2026-03-02 09:00:00
[2026-03-01 17:56:22] [33mMySQL session time_zone set failed (ignored).[0m
[2026-03-01 17:56:22] [31mScheduler error: MySQL Connection not available[0m
[2026-03-01 17:56:23] [31mTraceback (most recent call last):
  File "scheduler.py", line 535, in run_loop
    jobs=fetch_due_jobs(conn, batch)
  File "scheduler.py", line 171, in fetch_due_jobs
    cur=conn.cursor(dictionary=True)
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 1242, in cursor
    raise OperationalError("MySQL Connection not available")
mysql.connector.errors.OperationalError: MySQL Connection not available
[0m
[2026-03-01 17:56:26] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:26] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 17:56:30] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:30] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 17:56:33] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:33] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 17:56:43] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:48] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 17:56:52] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:52] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 17:56:55] [31mScheduler error: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)[0m
[2026-03-01 17:56:55] [31mTraceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 758, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [WinError 10061] 無法連線，因為目標電腦拒絕連線。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1462, in reconnect
    self.connect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1399, in connect
    self._open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\connection.py", line 357, in _open_connection
    self._socket.open_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\network.py", line 760, in open_connection
    raise InterfaceError(
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "scheduler.py", line 532, in run_loop
    conn=pool.get_connection()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\pooling.py", line 664, in get_connection
    cnx.reconnect()
  File "C:\Users\jj\AppData\Roaming\Python\Python38\site-packages\mysql\connector\abstracts.py", line 1471, in reconnect
    raise InterfaceError(msg) from err
mysql.connector.errors.InterfaceError: Can not reconnect to MySQL after 1 attempt(s): 2003: Can't connect to MySQL server on '127.0.0.1:3306' (10061 無法連線，因為目標電腦拒絕連線。)
[0m
[2026-03-01 18:17:25] Scheduler started. Poll interval=2s batch=20
[2026-03-01 18:17:25] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-03-01 18:17:25] MySQL session time_zone will be set to +08:00
[2026-03-01 18:17:25] Control API: http://127.0.0.1:5055/run_immediate?job_id=ID (token enabled)
[2026-03-01 18:17:25] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-03-01 18:00:00 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 18:17:25]    Attempt #1
[2026-03-01 18:17:25] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 18:17:25] [32mMQTT connected.[0m
[2026-03-01 18:17:27] [31m   ❌ FAILED HTTP=503[0m
[2026-03-01 18:17:27] [31m   Error: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>503 Service Unavailable</title>
</head><body>
<h1>Service Unavailable</h1>
<p>The server is temporarily unable to service your
request due to maintenance downtime or capacity
problems. Please try again later.</p>
<hr>
<address>Apache/2.4.41 (Win64) OpenSSL/1.1.1c PHP/7.3.12 Server at test.prof-jj.com Port 443</address>
</body></html>
[0m
[2026-03-01 18:17:27] [33m   Retry scheduled at: 2026-03-01 18:18:27.031793[0m
[2026-03-01 18:17:27] ▶ Job#10 '語音提醒晚上吃藥' [MQTT] planned=2026-03-01 18:00:00 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"晚上你好，為了你的健康，該吃藥了"}'
[2026-03-01 18:17:27]    Attempt #1
[2026-03-01 18:17:27] [32m   ✅ SUCCESS HTTP=0[0m
[2026-03-01 18:17:27]    Next: 2026-03-02 18:00:00
[2026-03-01 18:36:09] Scheduler started. Poll interval=2s batch=20
[2026-03-01 18:36:09] Log file: C:\wamp64\www\scheduler\scheduler.log
[2026-03-01 18:36:09] MySQL session time_zone will be set to +08:00
[2026-03-01 18:36:09] Control API: http://127.0.0.1:5055/run_immediate?job_id=ID (token enabled)
[2026-03-01 18:36:09] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-03-01 18:18:27 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 18:36:09]    Attempt #1
[2026-03-01 18:36:09] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 18:36:10] [32mMQTT connected.[0m
[2026-03-01 18:36:10] [32m   ✅ SUCCESS HTTP=200[0m
[2026-03-01 18:36:10]    Next: 2026-03-02 18:00:00
[2026-03-01 18:36:54] [IMMEDIATE] ▶ Job#11 '語音提醒喝下午茶' [MQTT] planned=2026-03-01 18:36:54.991316 topic=JJ/tts/cmd payload='{"dev_id":"u2wKOW9q","text":"午安你好，下午茶的時間到了，來杯下午茶吧"}'
[2026-03-01 18:36:54] [IMMEDIATE]    Attempt #1
[2026-03-01 18:36:55] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=0[0m
[2026-03-01 18:36:55] [IMMEDIATE]    Next: 2026-03-02 15:00:00
[2026-03-01 18:37:11] [IMMEDIATE] ▶ Job#8 'Line提醒晚上吃藥' [HTTP] planned=2026-03-01 18:37:11.022181 url=https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 payload=''
[2026-03-01 18:37:11] [IMMEDIATE]    Attempt #1
[2026-03-01 18:37:11] Sending HTTP request to https://test.prof-jj.com//api/push?name=簡文山&msg=晚安你好，為了你的健康該吃藥了&key=1234567890987654321 with headers None
[2026-03-01 18:37:11] [32m[IMMEDIATE]    ✅ SUCCESS HTTP=200[0m
[2026-03-01 18:37:11] [IMMEDIATE]    Next: 2026-03-02 18:00:00
